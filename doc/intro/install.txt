.. _sec-install:

Installation guide
==================

To install the |TwoEarsModel| download it from its `official download site`_ and
store it somewhere on your PC. The download includes only the files needed to
run it in Matlab. Additional files such as |HRTF| data will be downloaded later by
the model on-the-fly if needed. 

We have tested the software with Matlab versions 2012b and later. You will also need
the Signal Processing and Instrument Control toolboxes. Currently the Statistics toolbox is also required for some plotting functions, but we expect to remove this dependency in a future release.

When stored on your PC, you should add the main folder to your Matlab path and then run the 
``startTwoEars`` function, which will add the necessary sub-folders and compile the
mex files. From within the main folder do the following::

    >> addpath(pwd)
    >> startTwoEars

Finally, in order to use the location knowledge source ``LocationKS()``, you need to download `GMTK`_ binaries for your operating system:

    * For Linux, download `GMTK for Linux`_ and put the unzipped binaries in ``/usr/local/bin``
    * For MaxOS X, download `GMTK for MacOS X`_ and put the unzipped binaries in ``/usr/local/bin``
    * For Windows systems you need to use `Cygwin`_. Download `GMTK for Cygwin`_ and put the unzipped binaries in ``c:\cygwin64\usr\local\bin``

To test if GMTK works for you, open a shell and do the following::

    $ /usr/local/bin/gmtkTriangulate

In most the cases the GMTK binaries provided should work for you. If you have any trouble, try compiling GMTK from source code:

    1. Download the latest `GMTK source code`_
    2. Unpack the source code package and switch to the extracted directory
    3. Compile the GMTK binaries in a shell as follows::

        $ ./configure && make && make install


Now everything is setup and you can use the model. It is a good idea to try one of examples provided::

        >> cd Examples/localisation_w_and_wo_head_movements
        >> localise;

.. _official download site: http://twoears.eu/download

.. _GMTK source code: https://dev.qu.tu-berlin.de/projects/twoears-wp3/repository/revisions/master/raw/third_party_software/gmtk-1.2.0+20150206.da165982fb7b.tar.gz

.. _GMTK for Linux:  https://dev.qu.tu-berlin.de/projects/twoears-wp3/repository/revisions/master/raw/third_party_software/gmtk_binaries/gmtk-1.0.1.binaries.Linux_x86_64.tar.gz

.. _GMTK for MacOS X: https://dev.qu.tu-berlin.de/projects/twoears-wp3/repository/revisions/master/raw/third_party_software/gmtk_binaries/gmtk-1.0.1.binaries.MacOSX.tar.gz

.. _GMTK for Cygwin: https://dev.qu.tu-berlin.de/projects/twoears-wp3/repository/revisions/master/raw/third_party_software/gmtk_binaries/gmtk-1.0.1.binaries.Cygwin64.zip

.. _Cygwin: http://www.cygwin.com

.. _GMTK: http://melodi.ee.washington.edu/gmtk/

.. vim: filetype=rst spell:
